(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{"+Kzw":function(o,t,e){"use strict";e.d(t,"b",(function(){return d}));var n=e("rdO9"),i=(e("L2JU"),e("eNOx"));const s={[i.a]:o=>t=>o.appConfig[t]},r={state:{appConfig:{}},mutations:{[i.b](o,t){o.appConfig=t}},getters:s};var l=e("R6JH");let a=!1;const c=(o,t)=>{a||((o=>{o.registerModule("config",r)})(t),t.commit(i.b,o.getAppConfig()),a=!0)},d=o=>{o.prototype.$localStorageName||(o.prototype.$localStorageName="doctor_questions_panel",Object.defineProperty(o.prototype,"$localStorage",{value:new n.a(localStorage)}))};t.a=async function(o,t,e){e.prototype.$config=o,o.isProd()&&(e.config.errorHandler=o=>{Object(l.a)(o)}),d(e),t&&c(o,t),(()=>{if(ZLApp.Modules.AffixTouchpoint){ZLApp.Modules.AffixTouchpoint().setupAffix()}})()}},MQbG:function(o,t,e){"use strict";e.r(t);var n=e("XuX8"),i=e.n(n),s=e("d6hQ"),r=e("Fw5N"),l=e("+Kzw"),a={name:"LoginBeforeBookingModal",components:{DpModal:e("Xo1A").a,SsoLogin:()=>Promise.all([e.e(0),e.e(263)]).then(e.bind(null,"MR1B"))},data:()=>({httpProtocol:null,openModalEventSent:!1,redirectUrl:null,showBenefits:!0,showModal:!1}),computed:{registerUrl(){return`${this.httpProtocol}//${this.$config.getConst("DOMAIN")}/callback-redirect?callback_url=${encodeURIComponent(this.redirectUrl)}&sso_parameters[simple_layout]=true`},ssoUrls(){const o=`${this.$config.getConst("SSO_SOCIAL_CONNECT")}${encodeURIComponent(this.redirectUrl)}`;return{apple:this.buildTargetUrl("login-with/apple_app",o),email:o,facebook:this.buildTargetUrl("login-with/fb_app",o),google:this.buildTargetUrl("login-with/google_app",o),register:this.registerUrl}}},created(){document.addEventListener("LOGIN_BEFORE_THE_BOOKING_MODAL_TRIGGER",this.openModal)},mounted(){this.httpProtocol=window.location.protocol},methods:{buildTargetUrl(o,t){return`${this.httpProtocol}//${this.$config.getConst("SSO_DOMAIN")}/${o}?redirect_uri=${encodeURI(t)}`},openModal(o){const{redirectUrl:t,showBenefits:e}=o.detail;this.redirectUrl=t,this.showBenefits=e,this.pushGAEvent("click_slot"),this.showModal=!0},pushGAEvent(o){this.$gtm.pushEvent({action:o,category:"booking_slots",label:this.$config.getConst("CURRENT_ROUTE")})},signUpClickHandler(o){const{context:t,url:e}=o;this.pushGAEvent(t),window.location.href=e}}},c=(e("nCa6"),e("KHd+")),d=Object(c.a)(a,(function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("dp-modal",{staticClass:"login-modal",attrs:{title:o._f("trans")("login_before_booking_header")},model:{value:o.showModal,callback:function(t){o.showModal=t},expression:"showModal"}},[o.showModal?e("sso-login",{attrs:{"login-before-booking":!0,"show-benefits":o.showBenefits,urls:o.ssoUrls},on:{"sign-up":o.signUpClickHandler}}):o._e()],1)}),[],!1,null,"6d280ba8",null).exports;t.default=function(o,t,e){const n=document.querySelector('[data-id="login-before-booking-modal-vue"]');n instanceof HTMLElement&&(i.a.use(s.b),i.a.use(r.b,{i18n:e}),Object(l.a)(o,null,i.a).then(()=>{new i.a({i18n:e,gtm:t,el:n,components:{LoginBeforeBookingModal:d}})}))}},afAK:function(o,t,e){},eNOx:function(o,t,e){"use strict";e.d(t,"a",(function(){return n})),e.d(t,"b",(function(){return i}));const n="GETTER_CONFIG_GET_PARAM",i="MUTATION_CONFIG_SET_APP_CONFIG"},nCa6:function(o,t,e){"use strict";var n=e("afAK");e.n(n).a}}]);